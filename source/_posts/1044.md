---
title: 【2019年公司技术比武实操题】
date: 2020-01-01 20:19:26
tags: [信息网络]
---

惨败。

一切不利的结果，都是由于当事人的能力不足导致的。

需要学得东西还有很多很多。

记录一下题目，方便查阅。

<!-- more -->

# 拓扑

![](./1044/1.PNG)

# 题目

根据拓扑图完成下列配置：

1. 考试使用 CRT 工具记录会话，保存文件名为考生考号。
2. SW2 到 R1 之间使用光纤互联，模块及光纤跳线自选。
3. 在 SW1 上创建 Vlan10，地址为 192.168.10.0/24，网关为
192.168.10.252；在 SW2 上创建 Vlan10，地址为 192.168.10.0/24，网关为
192.168.10.253。
4. 在 SW1 上配置 DHCP 服务，使 PC1 自动获取 VLAN10 的地址，所获取地址范围
为 192.168.10.40—192.168.10.50。
5. SW1、SW2 之间使用 VRRP，其中 vlan10 工作在备份组 1,SW1 为 master，虚
拟网关地址为 192.168.10.254；设置监控 SW1 到 R1 的上行链路，如上行链
路中断 SW1 切换为 Backup。
6. R1 与 R2 之间采用 MPLS L3VPN，设备角色为 CPE，RD 值为 1:1，VPN 实例名
为 DS，将相关接口及路由协议划入该实例。
7. 在 R2 上配置 Loopback 0 接口，地址为 192.168.40.1/32。
8. SW1、SW2、R1 之间采用 RIP 协议 V2 版本，发布精确网段；R1、R2 之间采用
IS-IS 协议。
9. 测试 PC1 与 Loopback 0 接口的连通性。
10. 在 R2 上设置 Agent 使用 SNMP 协议，版本为 v3，SNMPv3 用户名为
    admin，用户权限为 network-admin，认证算法为 SHA-1，认证密码为
    dssc。开启 SNMP 告警功能，设置接收 SNMP 告警信息的目的主机 IP 地址为
    8.8.8.8 ，配置安全认证参数为 admin。
11. 在 R2 上配置 SSH 登录，用户名为 admin，密码为 admin，配置用户为最大权
      限。
12. 在防火墙上配置 NAT，将 R2 上 10.126.0.13 地址的 22 端口公布在互联网区
      转换为 3000 端口，对外提供服务的地址为防火墙 ETH3 接口地址，设置安全
      策略仅允许所有互联网用户在 16 日之前（包含 16 日）登录 R2，并使用 PC2
      登录测试。（防火墙不得手动配置路由）。
13. 在 PC1 上设置，将 windows 密码策略按如下要求进行配置：密码长度最短为
      8 位；口令不重复的次数为 5 次；每 3 个月修改一次密码。
14. 在 PC1 上设置，通过远程桌面方式登录到本机的账号，不活动断开时间为
      20 分钟。
15. 15.在 PC1 上设置注册表，将远程桌面登录的端口号由 3389 改为 11111。

# 答案

1. 考试使用CRT工具记录会话，保存文件名为考生考号。

   

2. SW2到R1之间使用光纤互联，模块及光纤跳线自选。


**SW2:**
``` bash
interface GigabitEthernet1/0/49

 port link-mode route

 ip address 10.126.0.5 255.255.255.252
```


**R1:**
``` bash
interface GigabitEthernet2/0/3

combo enable fiber

 ip binding vpn-instance DS

​      ip address 10.126.0.6 255.255.255.252
```




3. 全局互联地址见拓扑图。



4. R1与R2之间采用三层静态链路聚合互联。


**R1:**
``` bash
interface Route-Aggregation1

ip address 10.126.0.9 255.255.255.252

 

interface GigabitEthernet2/0/1

port link-aggregation group 1

 

interface GigabitEthernet2/0/2

port link-aggregation group 1
```


**R2:**
``` bash
interface Route-Aggregation1

ip address 10.126.0.9 255.255.255.252

 

interface GigabitEthernet2/0/1

port link-aggregation group 1

 

interface GigabitEthernet2/0/2

port link-aggregation group 1
```




5. 在SW1上创建Vlan10，地址为192.168.10.0/24，网关为192.168.10.252；在SW2上创建Vlan10，地址为192.168.10.0/24，网关为192.168.10.253。*(5题6题配置在一起)*


**SW1:**
``` bash
vlan 10

 

interface Vlan-interface10

 ip address 192.168.10.252 255.255.255.0

 vrrp vrid 1 virtual-ip 192.168.10.254

 vrrp vrid 1 priority 110

 vrrp vrid 1 track 1 priority reduced 20
```


**SW2:**
``` bash
vlan 10

 

interface Vlan-interface10

 ip address 192.168.10.253 255.255.255.0

 vrrp vrid 1 virtual-ip 192.168.10.254
```




6. SW1、SW2之间使用VRRP，其中vlan10工作在备份组1,SW1为master，虚拟网关地址为192.168.10.254；设置监控SW1到R1的上行链路，如上行链路中断SW1切换为Backup。

**SW1**：
``` bash
track 1 interface GigabitEthernet1/0/48
```




7. R1与R2之间采用MPLS L3VPN，设备角色为CPE，RD值为1:1，VPN实例名为DS，将相关接口及路由协议划入该实例。

**R1、R2：**
``` bash
ip vpn-instance DS

 route-distinguisher 1:1
```


R1、R2的所有接口配置
``` bash
 ip binding vpn-instance DS
```




8. 在R2上配置Loopback 0接口，地址为192.168.40.1。 

``` bash
interface LoopBack0

 ip binding vpn-instance DS

 ip address 192.168.40.1 255.255.255.255

 isis enable 1
```




9. SW1、SW2、R1之间采用RIP协议V2版本，发布精确网段；R1、R2之间采用IS-IS协议。

**SW1：**
``` bash
rip 1

 undo summary

 version 2

 network 10.126.0.0 255.255.255.252

 network 192.168.10.0 255.255.255.0
```

**SW2：**
``` bash
rip 1

 undo summary

 version 2

 network 10.126.0.4 255.255.255.252

 network 192.168.10.0 255.255.255.0
```




**R1：**
``` bash
rip 1 vpn-instance DS

 undo summary

 version 2

 network 10.126.0.0 0.0.0.3

 network 10.126.0.4 0.0.0.3

 import-route isis 1

 

isis 1 vpn-instance DS

 network-entity 10.0101.2600.0009.00


 address-family ipv4 unicast

  import-route rip 1

 

interface Route-Aggregation1

 ip binding vpn-instance DS (第7题步骤)

 ip address 10.126.0.9 255.255.255.252

 isis 1 enable
```


**R2：**
``` bash
 

isis 1 vpn-instance DS

 network-entity 10.0101.2600.0010.00


 

 

interface Route-Aggregation1

 ip binding vpn-instance DS (第7题步骤)

 ip address 10.126.0.10 255.255.255.252

 isis 1 enable
```




10. 测试PC1与Loopback 0接口的连通性。

在PC1上Ping 192.168.40.1

 

11. 在R2 上设置Agent 使用SNMP协议，版本为v3，SNMPv3 用户名为 admin，用户权限为network-admin，认证算法为SHA-1，认证密码为dssc。开启SNMP 告警功能，设置接收SNMP告警信息的目的主机IP地址为8.8.8.8 ，配置安全认证参数为admin。

``` bash
snmp-agent sys-info version v3

snmp-agent usm-user v3 admin user-role network-admin simple authentication-mode sha dssc

snmp-agent trap enable

snmp-agent target-host trap address udp-domain 8.8.8.8 params securityname admin v3 privacy
```




12. 在R2上配置SSH登录，用户名为admin，密码为admin。

``` bash
ssh server enable

ssh user admin service-type stelnet authentication-type password

 

local-user admin 

​       password simple admin

​       service-type ssh

 authorization-attribute user-role network-admin

 

line vty 0 4

 authentication-mode scheme
```


13. 在防火墙上配置NAT，将R2上10.126.0.13地址的22端口公布在互联网区转换为3000端口，设置安全策略仅允许所有互联网用户在16日之前（包含16日）登录R2，并使用PC2 登录测试。（防火墙不得手动配置路由）

1)   ETH2、ETH3配置接口地址

2)   创建10.126.0.13主机地址，创建防火墙ETH3接口主机

3)   创建时间资源，创建3000端口服务资源。

4)   目的地址转换，源地址any，目的地址是222.99.0.2，服务3000，转换为地址10.126.0.13，转换端口为22

5)   配置访问控制，源地址any,目的地址10.126.0.13，服务any，高级选项选择创建的时间资源。

# 评分标准

![](./1044/2.PNG)

![](./1044/3.PNG)

![](./1044/4.PNG)

![](./1044/5.PNG)

![](./1044/6.PNG)

![](./1044/7.PNG)